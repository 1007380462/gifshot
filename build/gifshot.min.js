!function(){var t,e,i;t={isObject:function(t){return t?"[object Object]"===Object.prototype.toString.call(t):!1},isArray:function(t){return t?"isArray"in Array?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t):!1},isFunction:function(t){return t?"[object Function]"===Object.prototype.toString.call(t):!1}},e=function(){function t(t,e,i){var n,o,c=0,u=function(){d()},d=function(){n.videoWidth>0&&n.videoHeight>0?(n.removeEventListener("loadeddata",u),s(n.videoWidth,n.videoHeight)):10>c?(c++,setTimeout(d,200)):s(640,480)},s=function(t,e){i(o,n,t,e)};n=document.createElement("video"),n.autoplay=!0,n.addEventListener("loadeddata",u),a({video:!0},function(t){e(),n.mozSrcObject?n.mozSrcObject=t:n.src=r.createObjectURL(t),o=t,n.play()},t)}function e(e,i){function r(){e(new Error("Timed out while trying to start streaming"))}i=i||{};var c,u=void 0!==i.timeout?i.timeout:0;a?(u>0&&(c=setTimeout(r,1e4)),t(function(){e(new Error("getUserMedia cannot access the camera"))},function(){clearTimeout(c)},function(t,i,r,a){o=t,n=i,e(null,t,i,r,a)})):e(new Error("Native device media streaming (getUserMedia) not supported in this browser."))}function i(){o&&o.stop(),n&&(n.pause(),n.src=null,n=null)}var n,o,r=window.URL||window.webkitURL||window.mozURL||window.msURL,a=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,c={startVideoStreaming:e,stopVideoStreaming:i};return c}(),i=function(){console.log(e)}()}();